{"version":3,"file":"watch.js","sourceRoot":"","sources":["watch.ts"],"names":[],"mappings":";;;;;;;;;;;IAAA,qDAAsE;IAEtE;QACC,MAAM,CAAC,yBAAe,CAAC,UAAC,MAAM,EAAE,WAAW;YAC1C,MAAM,CAAC,YAAY,CAAC,kBAAkB,EAAE;gBACvC,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;oBACjB,IAAI,QAAM,GAAQ,IAAI,CAAC,WAAW,CAAC,CAAC;oBACpC,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,WAAW,EAAE;wBACxC,GAAG,YAAC,KAAU;4BACb,QAAM,GAAG,KAAK,CAAC;4BACf,IAAI,CAAC,UAAU,EAAE,CAAC;wBACnB,CAAC;wBACD,GAAG;4BACF,MAAM,CAAC,QAAM,CAAC;wBACf,CAAC;qBACD,CAAC,CAAC;gBACJ,CAAC;YACF,CAAC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;IACJ,CAAC;IAjBD,sBAiBC;IAED,kBAAe,KAAK,CAAC","sourcesContent":["import handleDecorator, { DecoratorHandler } from './handleDecorator';\n\nexport function watch(): DecoratorHandler {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator('afterConstructor', function(this: any) {\n\t\t\tif (propertyKey) {\n\t\t\t\tlet _value: any = this[propertyKey];\n\t\t\t\tObject.defineProperty(this, propertyKey, {\n\t\t\t\t\tset(value: any) {\n\t\t\t\t\t\t_value = value;\n\t\t\t\t\t\tthis.invalidate();\n\t\t\t\t\t},\n\t\t\t\t\tget() {\n\t\t\t\t\t\treturn _value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n}\n\nexport default watch;\n"]}