{"version":3,"file":"watch.mjs","sourceRoot":"","sources":["watch.ts"],"names":[],"mappings":"AAAA,OAAO,eAAqC,MAAM,mBAAmB,CAAC;AAEtE,MAAM;IACL,MAAM,CAAC,eAAe,CAAC,CAAC,MAAM,EAAE,WAAW,EAAE,EAAE;QAC9C,MAAM,CAAC,YAAY,CAAC,kBAAkB,EAAE;YACvC,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;gBACjB,IAAI,MAAM,GAAQ,IAAI,CAAC,WAAW,CAAC,CAAC;gBACpC,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,WAAW,EAAE;oBACxC,GAAG,CAAC,KAAU;wBACb,MAAM,GAAG,KAAK,CAAC;wBACf,IAAI,CAAC,UAAU,EAAE,CAAC;oBACnB,CAAC;oBACD,GAAG;wBACF,MAAM,CAAC,MAAM,CAAC;oBACf,CAAC;iBACD,CAAC,CAAC;YACJ,CAAC;QACF,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC;AACJ,CAAC;AAED,eAAe,KAAK,CAAC","sourcesContent":["import handleDecorator, { DecoratorHandler } from './handleDecorator';\n\nexport function watch(): DecoratorHandler {\n\treturn handleDecorator((target, propertyKey) => {\n\t\ttarget.addDecorator('afterConstructor', function(this: any) {\n\t\t\tif (propertyKey) {\n\t\t\t\tlet _value: any = this[propertyKey];\n\t\t\t\tObject.defineProperty(this, propertyKey, {\n\t\t\t\t\tset(value: any) {\n\t\t\t\t\t\t_value = value;\n\t\t\t\t\t\tthis.invalidate();\n\t\t\t\t\t},\n\t\t\t\t\tget() {\n\t\t\t\t\t\treturn _value;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n}\n\nexport default watch;\n"]}