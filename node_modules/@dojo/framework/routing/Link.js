(function (factory) {
    if (typeof module === "object" && typeof module.exports === "object") {
        var v = factory(require, exports);
        if (v !== undefined) module.exports = v;
    }
    else if (typeof define === "function" && define.amd) {
        define(["require", "exports", "tslib", "../widget-core/WidgetBase", "../widget-core/d"], factory);
    }
})(function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    var tslib_1 = require("tslib");
    var WidgetBase_1 = require("../widget-core/WidgetBase");
    var d_1 = require("../widget-core/d");
    var Link = /** @class */ (function (_super) {
        tslib_1.__extends(Link, _super);
        function Link() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        Link.prototype._getProperties = function () {
            var _a = this.properties, _b = _a.routerKey, routerKey = _b === void 0 ? 'router' : _b, to = _a.to, _c = _a.isOutlet, isOutlet = _c === void 0 ? true : _c, target = _a.target, _d = _a.params, params = _d === void 0 ? {} : _d, onClick = _a.onClick, props = tslib_1.__rest(_a, ["routerKey", "to", "isOutlet", "target", "params", "onClick"]);
            var item = this.registry.getInjector(routerKey);
            var href = to;
            if (item) {
                var router_1 = item.injector();
                if (isOutlet) {
                    href = router_1.link(href, params);
                }
                var onclick_1 = function (event) {
                    onClick && onClick(event);
                    if (!event.defaultPrevented && event.button === 0 && !event.metaKey && !event.ctrlKey && !target) {
                        event.preventDefault();
                        href !== undefined && router_1.setPath(href);
                    }
                };
                return tslib_1.__assign({}, props, { onclick: onclick_1, href: href });
            }
            return tslib_1.__assign({}, props, { href: href });
        };
        Link.prototype.render = function () {
            return d_1.v('a', this._getProperties(), this.children);
        };
        return Link;
    }(WidgetBase_1.WidgetBase));
    exports.Link = Link;
    exports.default = Link;
});
//# sourceMappingURL=Link.js.map